{% extends 'base.html' %}
{% block title %}Blog · Chamodh Nethsara{% endblock %}

{% block content %}

<!-- HERO -->
<section class="w-full relative -mx-6 mt-12 mb-20 ">
  <div
    class="w-full h-[420px]
           bg-[url('https://chamodh.me/media/django-summernote/2025-12-24/b6f2be5f-4965-48cf-a7cd-9d0407f163f4.png')]
           bg-cover bg-center
           flex flex-col justify-center items-center text-center"
  >
    <h1
      class="text-white text-3xl md:text-4xl lg:text-5xl font-semibold
             bg-black/50 px-4 py-2 rounded-md backdrop-blur-sm"
    >
      Welcome to my blog
    </h1>

    <!-- SEARCH -->
    <form method="get"  class="mt-6 w-full max-w-xl px-4">
      <div class="flex gap-2">
        <input
         value="{{query}}"
         name="q"
          type="text"
          placeholder="Search articles…"
          class="w-full px-4 py-2 rounded-md
                 bg-white/90 text-neutral-900
                 border border-neutral-300
                 focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
        <button
          type="submit"
          class="px-4 py-2 bg-blue-600 text-white rounded-md font-medium
                 hover:bg-blue-500 transition"
        >
          Search
        </button>
      </div>
    </form>
  </div>
<div class="bg-[rgb(1,14,40)]">
<!-- ARTICLES -->
{% for article in page %}
<div class="p-4">
  <div class="relative max-w-7xl mx-auto">
    <div
      class="max-w-lg mx-auto rounded-xl overflow-hidden
             shadow-lg lg:max-w-none lg:flex
              text-black"
    >

      <!-- CONTENT -->
      <div class="flex-1 px-6 py-8 lg:p-12">
        <h3 class="text-2xl font-bold text-white sm:text-3xl mb-3">
          {{ article.title }}
        </h3>

        <p class="text-sm text-white mb-6">
          {{ article.date|date:"F d, Y" }}
        </p>

        <p class="text-white leading-relaxed mb-6">
          {{ article.body|striptags|truncatechars:260|safe }}
        </p>

        <a
          href="{% url 'detail' article.slug %}"
          class="inline-block text-blue-400 font-medium hover:text-blue-300"
        >
          Read full article →
        </a>
      </div>

      <!-- SIDE PANEL
      <div
        class="py-8 px-6 text-center lg:w-72
               flex flex-col justify-center
               bg-neutral-700"
      >
    
      </div> -->

    </div>
  </div>
</div>
{% endfor %}

<!-- PAGINATION -->
<div class="flex justify-center items-center gap-2 mt-12 text-sm py-6">

  {% if page.has_previous %}
    <a href="?page={{ page.previous_page_number }}"
       class="px-3 py-1 rounded-md border border-neutral-600
              bg-neutral-800 transition">
      ← Prev
    </a>
  {% endif %}

  {% for num in page.paginator.page_range %}
    {% if page.number == num %}
      <span class="px-3 py-1 rounded-md bg-blue-600 text-white">
        {{ num }}
      </span>
    {% else %}
      <a href="?page={{ num }}"
         class="px-3 py-1 rounded-md border border-neutral-600
                bg-neutral-800 transition">
        {{ num }}
      </a>
    {% endif %}
  {% endfor %}

  {% if page.has_next %}
    <a href="?page={{ page.next_page_number }}"
       class="px-3 py-1 rounded-md border border-neutral-600
              bg-neutral-800 transition">
      Next →
    </a>
  {% endif %}

</div>
</div>
{% endblock %}
