{% extends "base.html" %}
{% load static %}
{% block meta %}
  <title> 
      {% if article.meta_title %}
        {{ article.meta_title }}
      {% else %}
        {{ article.title }}
      {% endif %}
  </title>

  <meta name="description"
    content="{% if article.meta_description %}
                {{ article.meta_description }}
             {% else %}
                {{ article.content|striptags|truncatechars:150}}
              {% endif %}">



    <meta property="og:title"
      content="{{ article.meta_title|default:article.title }}">
<meta property="og:description"
      content="{{ article.meta_description }}">
<meta property="og:type" content="article">
<meta property="og:url" content="{{ request.build_absolute_uri }}">



  

{% endblock %}

{% block title %}{{ article.title }} Â· Blog{% endblock %}
{% block css %}<link rel="stylesheet" href="{% static 'css/summernote-content.css' %}">{% endblock %}

{% block content %}

<!-- FULL-BLEED ARTICLE SURFACE -->
<div class="relative -mx-6 mt-12 mb-20 bg-[rgb(1,14,40)]">

  <!-- TOP BAR -->
  <div class="max-w-6xl mx-auto px-6 pt-6 flex items-center justify-between text-sm">

    <!-- Back to Blog -->
    <a href="{% url 'blog_home' %}"
       class="inline-flex items-center gap-2 text-neutral-400 hover:text-blue-400 transition">
      <!-- arrow -->
      <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15 19l-7-7 7-7" />
      </svg>
      Back to Blog
    </a>

    <!-- META (views + claps) -->
    <div class="flex items-center gap-4 text-neutral-400">

      <!-- Views -->
      <div class="flex items-center gap-1">
        <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7
                   -1.274 4.057-5.064 7-9.542 7
                   -4.477 0-8.268-2.943-9.542-7z" />
        </svg>
        <span>{{ article.view_count }}</span>
      </div>

      <!-- Claps -->
      <button
        class="flex items-center gap-1 px-2 py-1 rounded-md
               hover:bg-neutral-800 transition"
        aria-label="Clap for this article">
        <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
          <path d="M2 10a6 6 0 1112 0v4a2 2 0 11-4 0v-3a1 1 0 10-2 0v3a2 2 0 11-4 0v-4z" />
        </svg>
        <span>{{ article.claps|default:"0" }}</span>
      </button>

    </div>
  </div>

  <!-- HEADER -->
  <section class="py-12 border-b border-neutral-800">
    <div class="max-w-5xl mx-auto px-6 text-center">
      <h1 class="text-3xl md:text-4xl font-semibold text-neutral-100 mb-3">
        {{ article.title }}
      </h1>

      <p class="text-sm text-neutral-400">
        Published on {{ article.date }}
      </p>
    </div>
  </section>

  <!-- CONTENT -->
  <section class="py-12">
    <div class="max-w-6xl mx-auto px-6 flex flex-col md:flex-row gap-10">

      <!-- ARTICLE BODY -->
      <article class="w-full md:w-3/4">
        <div class="summernote-content">
  {{ article.body|safe }}
</div>
      </article>

      <!-- SIDEBAR -->
      <aside class="w-full md:w-1/4 space-y-6">
        <!-- Tags -->
        <div class="bg-neutral-800 border border-neutral-700 rounded-xl p-5">
          <h2 class="text-sm font-semibold uppercase tracking-wide text-neutral-300 mb-4">
            Tags
          </h2>

          <ul class="space-y-2 text-sm">
            {% for tag in article.tags.all %}
                 <li><a href="{% url 'blog_home' %}?tag={{tag.name}}" class="text-neutral-400 hover:text-blue-400">{{tag.name}}</a></li>
            {% endfor %}

          </ul>
        </div>

        <!-- Recent Posts -->
        <div class="bg-neutral-800 border border-neutral-700 rounded-xl p-5">
          <h2 class="text-sm font-semibold uppercase tracking-wide text-neutral-300 mb-4">
            Recent Posts
          </h2>

          <ul class="space-y-3">
            {% for recent in recents %}
            <li>
              <a href="{% url 'detail' recent.slug %}"
                 class="text-sm text-neutral-300 hover:text-blue-400 transition">
                {{ recent.title }}
              </a>
            </li>
            {% endfor %}
          </ul>
        </div>

        <!-- Categories
        <div class="bg-neutral-800 border border-neutral-700 rounded-xl p-5">
          <h2 class="text-sm font-semibold uppercase tracking-wide text-neutral-300 mb-4">
            Categories
          </h2>

          <ul class="space-y-2 text-sm">
            <li><a href="#" class="text-neutral-400 hover:text-blue-400">Category 1</a></li>
            <li><a href="#" class="text-neutral-400 hover:text-blue-400">Category 2</a></li>
            <li><a href="#" class="text-neutral-400 hover:text-blue-400">Category 3</a></li>
            <li><a href="#" class="text-neutral-400 hover:text-blue-400">Category 4</a></li>
          </ul>
        </div> -->

        

      </aside>
    </div>
  </section>

</div>

{% endblock %}
